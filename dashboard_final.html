<!DOCTYPE html>
<html>
<head>
    <title>Customer Segmentation Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { font-family: Arial; margin: 0; padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 30px; background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px; }
        .metrics { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px; }
        .metric { background: rgba(255,255,255,0.15); padding: 20px; border-radius: 10px; text-align: center; }
        .metric-value { font-size: 2em; font-weight: bold; color: #ffd700; }
        .segments { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin: 30px 0; }
        .segment { background: rgba(255,255,255,0.15); padding: 20px; border-radius: 10px; }
        .chart { background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; margin: 20px 0; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìä Customer Segmentation Dashboard</h1>
            <p>Interactive RFM Analysis</p>
        </div>

        <div class="metrics">
            <div class="metric">
                <div class="metric-value">2,852</div>
                <div>Total Customers</div>
            </div>
            <div class="metric">
                <div class="metric-value">$1,314</div>
                <div>Avg Customer Value</div>
            </div>
            <div class="metric">
                <div class="metric-value">2.7</div>
                <div>Avg Frequency</div>
            </div>
            <div class="metric">
                <div class="metric-value">102</div>
                <div>Avg Recency (days)</div>
            </div>
        </div>

        <div class="segments">
            <div class="segment" style="border-left: 5px solid #4444ff;">
                <h3>üíô Loyal Customers</h3>
                <p><strong>1,155 customers (40.5%)</strong></p>
                <p>Your reliable customer base with good frequency and monetary value.</p>
            </div>
            <div class="segment" style="border-left: 5px solid #ff4444;">
                <h3>‚ö†Ô∏è At Risk</h3>
                <p><strong>987 customers (34.6%)</strong></p>
                <p>Need immediate attention - haven't purchased recently.</p>
            </div>
            <div class="segment" style="border-left: 5px solid #ffaa44;">
                <h3>üåü Potential Loyalists</h3>
                <p><strong>703 customers (24.6%)</strong></p>
                <p>Recent customers with growth potential.</p>
            </div>
            <div class="segment" style="border-left: 5px solid #44ff44;">
                <h3>üèÜ Champions</h3>
                <p><strong>7 customers (0.2%)</strong></p>
                <p>Your best customers - VIP treatment needed.</p>
            </div>
        </div>

        <div class="chart">
            <h3>Customer Segment Distribution</h3>
            <div id="pieChart" style="height: 400px;"></div>
        </div>

        <div class="chart">
            <h3>RFM Analysis Scatter Plot</h3>
            <div id="scatterChart" style="height: 400px;"></div>
        </div>

        <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; margin-top: 30px;">
            <h3>üí° Key Insights & Recommendations</h3>
            <ul style="line-height: 1.8;">
                <li><strong>Immediate Action:</strong> 987 "At Risk" customers need win-back campaigns</li>
                <li><strong>Revenue Focus:</strong> 1,155 "Loyal" customers drive majority revenue</li>
                <li><strong>Growth Opportunity:</strong> 703 "Potential Loyalists" can be upgraded</li>
                <li><strong>VIP Program:</strong> 7 "Champions" deserve exclusive treatment</li>
            </ul>
        </div>
    </div>

    <script>
        // Pie Chart
        var pieData = [{
            values: [1155, 987, 703, 7],
            labels: ['Loyal Customers', 'At Risk', 'Potential Loyalists', 'Champions'],
            type: 'pie',
            marker: { colors: ['#4444ff', '#ff4444', '#ffaa44', '#44ff44'] },
            textinfo: 'label+percent',
            textfont: { color: 'white', size: 12 }
        }];
        var pieLayout = {
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0)',
            font: { color: 'white' },
            margin: {t: 50, b: 50, l: 50, r: 50}
        };
        Plotly.newPlot('pieChart', pieData, pieLayout, {responsive: true});

        // Scatter Plot (Sample RFM Data)
        var scatterData = [
            {
                x: [50, 100, 150, 200, 250, 300, 10, 20, 30, 40],
                y: [1000, 2000, 3000, 1500, 2500, 4000, 500, 800, 1200, 900],
                mode: 'markers',
                marker: { size: 10, color: '#4444ff' },
                name: 'Loyal Customers',
                type: 'scatter'
            },
            {
                x: [300, 350, 400, 450, 500],
                y: [800, 1200, 900, 1100, 700],
                mode: 'markers',
                marker: { size: 10, color: '#ff4444' },
                name: 'At Risk',
                type: 'scatter'
            },
            {
                x: [20, 30, 40, 50, 60],
                y: [1500, 1800, 1200, 1600, 1400],
                mode: 'markers',
                marker: { size: 10, color: '#ffaa44' },
                name: 'Potential Loyalists',
                type: 'scatter'
            },
            {
                x: [5, 10, 15],
                y: [5000, 6000, 7000],
                mode: 'markers',
                marker: { size: 15, color: '#44ff44' },
                name: 'Champions',
                type: 'scatter'
            }
        ];
        var scatterLayout = {
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0)',
            font: { color: 'white' },
            xaxis: { title: 'Recency (Days)', gridcolor: 'rgba(255,255,255,0.2)' },
            yaxis: { title: 'Monetary Value ($)', gridcolor: 'rgba(255,255,255,0.2)' },
            margin: {t: 50, b: 50, l: 50, r: 50}
        };
        Plotly.newPlot('scatterChart', scatterData, scatterLayout, {responsive: true});
    </script>
</body>
</html>